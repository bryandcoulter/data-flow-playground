<link rel="import" href="../../../bower_components/polymer/src/elements/element.html" />
<link rel="import" href="../shared/dumb-header.html" />
<link rel="import" href="../shared/update-account.html" />
<link rel="import" href="../shared/update-user.html" />
<link rel="import" href="../shared/users-element.html" />
<link rel="import" href="../shared/users-list-element.html" />
<dom-module id="user-admin">

  <template>
  <style>
    :host {
      display: block;
    }
    .show {
      display: block;
    }
    .hide {
      display: none;
    }
  </style>
    <div>
      <div>User Admin</div>
      <dumb-header class$="[[headerclass]]" loggedin="true"></dumb-header>
      <users-element on-sort="sort" on-edit="edit" usersmodel="[[controller.usersModel]]"></users-element>
      <update-user on-save="save" user="[[controller.user]]"></update-user>
      <users-list-element fiterlist="false" usersmodel="[[controller.usersModel]]"></users-list-element>
    </div>
  </template>
  <script>
    class UserAdmin extends Polymer.Element {
      static get is() { return 'user-admin'; }
      static get config() {
        return {properties: {
          loggedin: Boolean,
          controller: BaseController,
          headerclass: String
        }};
      }
      constructor() {
        super();
      }
      edit(e) {
        this.controller.changeUser(e.detail);
      }
      sort(e) {
        this.controller.usersModel.sort = e.detail;
      }
      save(e) {
        this.controller.saveUser(e.detail);
        this.dispatchEvent(new CustomEvent('userschanged', {bubbles: true}));
        this.controller.usersModel.filter();
      }
    }
    customElements.define(UserAdmin.is, UserAdmin);
  </script>
</dom-module>
